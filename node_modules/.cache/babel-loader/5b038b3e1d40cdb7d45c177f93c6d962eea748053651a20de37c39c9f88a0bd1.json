{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/satya/Desktop/courses/quiz/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/satya/Desktop/courses/quiz/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/satya/Desktop/courses/quiz/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useDispatch}from\"react-redux\";import{useNavigate,useParams}from\"react-router-dom\";import{UpdateScore,reset,submittedAns}from\"../features/quizSlice\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Show=function Show(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),questions=_useState2[0],setQuestions=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),options=_useState4[0],setOptions=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),choice=_useState6[0],setChoice=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),title=_useState8[0],setTitle=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),ans=_useState10[0],setAns=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),description=_useState12[0],setDesc=_useState12[1];var _useParams=useParams(),quizID=_useParams.quizID;// it is like req.params in expressjs see in app.js how i send id\nuseEffect(function(){var fetch_data=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:4000/\".concat(quizID));case 3:res=_context.sent;console.log(res.data);data=res.data[0];// it's giving array\nconsole.log(data);setQuestions(data.ques);setAns(data.ans);setOptions(data.options);setChoice(data.choice);setTitle(data.title);setDesc(data.description);_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 18:case\"end\":return _context.stop();}},_callee,null,[[0,15]]);}));return function fetch_data(){return _ref.apply(this,arguments);};}();fetch_data();dispatch(reset());// I need to reset state to its intial because when i see the score and come back to show redux is storing previous score ans sub_ans\n},[]);var navigate=useNavigate();var dispatch=useDispatch();var handleOption=function handleOption(e,qindex,oindex){var opt=options[qindex][oindex];var type=e.target.type;dispatch(submittedAns({qindex:qindex,opt:opt,type:type}));};var handleSubmit=function handleSubmit(){var len=questions.length;dispatch(UpdateScore({choice:choice,ans:ans,len:len}));navigate(\"/score/\".concat(quizID));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid d-flex flex-column align-items-center mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column w-50 card py-4 px-3 position-relative shadow mt-2\",style:{backgroundColor:'rgb(245, 245, 245)'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-100 ribbon rounded-top\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-3 fs-3\",id:\"title\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-3 fs-5\",id:\"desc\",children:description})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid d-flex flex-column justify-content-center align-items-center\",children:[questions.map(function(ques,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column w-50 card py-4 px-3 position-relative shadow ques-card mb-3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"fw-bold\",children:[ques,\"?\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"options d-flex flex-column w-100 align-items-start\",children:options[index].map(function(option,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"form-check m-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:choice[index],className:\"form-check-input\",name:index,id:String(index)+String(idx),onChange:function onChange(e){return handleOption(e,index,idx);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:String(index)+String(idx),children:option})]});})})]});}),/*#__PURE__*/_jsx(\"div\",{className:\"w-50 d-flex justify-content-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-success\",onClick:handleSubmit,children:\"Submit\"})})]})]});};export default Show;","map":{"version":3,"names":["useDispatch","useNavigate","useParams","UpdateScore","reset","submittedAns","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Show","_useState","_useState2","_slicedToArray","questions","setQuestions","_useState3","_useState4","options","setOptions","_useState5","_useState6","choice","setChoice","_useState7","_useState8","title","setTitle","_useState9","_useState10","ans","setAns","_useState11","_useState12","description","setDesc","_useParams","quizID","fetch_data","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","wrap","_callee$","_context","prev","next","get","concat","sent","console","log","ques","t0","stop","apply","arguments","dispatch","navigate","handleOption","e","qindex","oindex","opt","type","target","handleSubmit","len","length","children","className","style","backgroundColor","id","map","index","option","idx","name","String","onChange","htmlFor","onClick"],"sources":["C:/Users/satya/Desktop/courses/quiz/frontend/src/components/Show.js"],"sourcesContent":["import { useDispatch } from \"react-redux\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { UpdateScore, reset, submittedAns } from \"../features/quizSlice\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Show = () => {\r\n    const [questions, setQuestions] = useState([]);\r\n    const [options, setOptions] = useState([]);\r\n    const [choice, setChoice] = useState([]);\r\n    const [title, setTitle] = useState('');\r\n    const [ans, setAns] = useState([]);\r\n    const [description, setDesc] = useState('');\r\n    const { quizID } = useParams(); // it is like req.params in expressjs see in app.js how i send id\r\n    useEffect(() => {\r\n        const fetch_data = async () => {\r\n            try {\r\n                const res = await axios.get(`http://localhost:4000/${quizID}`);\r\n                console.log(res.data);\r\n                const data = res.data[0]; // it's giving array\r\n                console.log(data);\r\n                setQuestions(data.ques);\r\n                setAns(data.ans);\r\n                setOptions(data.options);\r\n                setChoice(data.choice);\r\n                setTitle(data.title);\r\n                setDesc(data.description);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        };\r\n        fetch_data();\r\n        dispatch(reset()); // I need to reset state to its intial because when i see the score and come back to show redux is storing previous score ans sub_ans\r\n    }, []);\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n    const handleOption = (e, qindex, oindex) => {\r\n        const opt = options[qindex][oindex];\r\n        const type = e.target.type;\r\n        dispatch(submittedAns({ qindex, opt, type}));\r\n    }\r\n    const handleSubmit = () => {\r\n        const len = questions.length;\r\n        dispatch(UpdateScore({choice, ans, len}));\r\n        navigate(`/score/${quizID}`);\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"container-fluid d-flex flex-column align-items-center mb-3\">\r\n                <div className=\"d-flex flex-column w-50 card py-4 px-3 position-relative shadow mt-2\" style={{backgroundColor: 'rgb(245, 245, 245)'}}>\r\n                    <div className=\"w-100 ribbon rounded-top\"></div>\r\n                    <p className=\"mb-3 fs-3\" id=\"title\">{ title }</p>\r\n                    <p className=\"mb-3 fs-5\" id=\"desc\">{ description }</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"container-fluid d-flex flex-column justify-content-center align-items-center\">\r\n                {questions.map((ques,index) => {\r\n                    return (\r\n                        <div className=\"d-flex flex-column w-50 card py-4 px-3 position-relative shadow ques-card mb-3\">\r\n                            <p className=\"fw-bold\">{ques}?</p>\r\n                            <div className=\"options d-flex flex-column w-100 align-items-start\">\r\n                                {options[index].map((option, idx) => {\r\n                                    return (\r\n                                        <div className=\"form-check m-2\">\r\n                                            <input type={choice[index]} className=\"form-check-input\" name={index} id={String(index) + String(idx)} onChange={(e) => handleOption(e, index, idx)}/>\r\n                                            <label htmlFor={String(index) + String(idx)}>{option}</label>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n                <div className=\"w-50 d-flex justify-content-end\">\r\n                    <button type=\"button\" className=\"btn btn-outline-success\" onClick={handleSubmit}>Submit</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\nexport default Show;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}